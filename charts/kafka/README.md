# kafka

![Version: 5.2.0](https://img.shields.io/badge/Version-5.2.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 2.12-2.2.2](https://img.shields.io/badge/AppVersion-2.12--2.2.2-informational?style=flat-square)

A Helm chart for Kubernetes

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` | k8s node/pod affinity/anti-affinity |
| global.dockerRegistry | string | `"registry.sensetime.com"` | docker registry address |
| global.isViper | bool | `true` | if true, deploy with foundry unique configuration |
| global.model.configmap.name | string | `"models-config"` | model configmap name |
| global.model.configmap.namespace | string | `"default"` | model configmap namespace |
| global.model.version.automobile | string | `"11000"` | viper automobile model version |
| global.model.version.carplate | string | `"10500"` | viper carplate model version |
| global.model.version.face | string | `"25200"` | viper face feature model version |
| global.model.version.humanPoweredVehicle | string | `"10100"` | viper human powered vehicle model version |
| global.model.version.pedestrian | string | `"15300"` | viper pedestrian model version |
| global.monitorNamespace | string | `"monitoring"` | prometheus deploy namespace |
| image.pullPolicy | string | `"IfNotPresent"` | image pull policy |
| image.pullSecrets | list | `["inner"]` | image pull secrets |
| image.repository.busybox | string | `"infra/library/busybox"` | busybox arm64 image repo |
| image.repository.kafka | string | `"infra/kafka-2.12-2.2.2"` | kafka image repo |
| image.tag.busybox | string | `"1.33.0-multi-arch"` | busybox multi arch image tag |
| image.tag.kafka | string | `"e7850f8-multi-arch"` | kafka multi arch image tag |
| init.topicPartitions | int | `32` |  |
| init.topicRetentions | list | `[]` | set init topic retention hours and bytes |
| init.topics | list | `["stream.images.face","stream.images.pedestrian","stream.features.face_FACE_FEATURE_VERSION","stream.features.pedestrian_PED_FEATURE_VERSION","stream.features.automobile_AUTOMOBILE_FEATURE_VERSION","stream.features.carplate_CARPLATE_FEATURE_VERSION","stream.features.human_powered_vehicle_HUMAN_POWERED_VEHICLE_FEATURE_VERSION"]` | init topics |
| nameSuffix | string | `"default"` | kafka name suffix |
| nodeSelector | object | `{}` | k8s nodeSelector |
| persistence.pvcPerPod | int | `1` | mount how many pv for each replica |
| persistence.storageClass | string | `"storageclass-local-kafka"` | storageclass name |
| persistence.volumeSize | string | `"500G"` | volume size, for example "100G" |
| persistence.volumeType | string | `"localvolume"` | volume type, supported type is localvolume or emptydir |
| podSecurityContext | object | `{"fsGroup":1000,"runAsUser":1000}` | pod security context |
| property.auth.enabled | bool | `true` | enable kafka auth or not |
| property.autoCreateTopics | bool | `false` | auto create topics |
| property.javaXmx | string | `"16G"` | java heap |
| property.networkMode | string | `"hostNetwork"` | kafka network mode, hostNetwork or ClusterIP |
| property.retentionBytes | string | `"10737418240"` | topic retention bytes, default is 10G |
| property.retentionHours | int | `168` | topic retention hours, default is 1 week |
| property.ssl.enabled | bool | `false` | enable kafka ssl or not |
| property.ssl.keyPasswdRef | string | `"key_password"` | key password reference key |
| property.ssl.keystorePasswdRef | string | `"keystore_password"` | keystore password reference key |
| property.ssl.secretName | string | `"infra-server-certs"` | server certs secret name |
| property.ssl.truststorePasswdRef | string | `"truststore_password"` | truststore password reference key |
| replicaCount | int | `1` | kafka replica count |
| resources.limits.cpu | string | `"9"` |  |
| resources.limits.memory | string | `"32Gi"` |  |
| resources.requests.cpu | string | `"3"` |  |
| resources.requests.memory | string | `"16Gi"` |  |
| service.kafka.enableServiceMonitor | bool | `true` | enable prometheus servicemonitor or not |
| service.kafka.port.metric | int | `7071` | kafka metrics port |
| service.kafka.port.server | int | `9092` | kafka server port |
| service.kafka.port.serverSSL | int | `9093` | kafka server ssl port |
| service.kafka.type | string | `"Headless"` | service type. |
| tolerations | list | `[]` | k8s tolerations |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.10.0](https://github.com/norwoodj/helm-docs/releases/v1.10.0)
